document.addEventListener("DOMContentLoaded",(()=>{!function(){if(document.getElementById("multi-step-script"))return void console.warn("multi-step.js script is already loaded.");const e=document.createElement("script");e.id="multi-step-script",e.src="https://cdn.jsdelivr.net/gh/videsigns/webflow-tools@latest/multi-step.js",e.onload=()=>{try{const e=document.getElementById("multi-step-id");e&&(e.style.display="block")}catch(e){console.error("Error during script onload execution:",e)}},e.onerror=()=>{console.error("Failed to load multi-step.js script.")},document.head.appendChild(e)}(),function(){const e=document.querySelectorAll(".w-checkbox-input--inputType-custom");e.length>0?e.forEach((e=>{e.addEventListener("click",(()=>{setTimeout(updateSubmitButtonState,50)}))})):console.warn("No custom checkboxes found to initialize listeners.")}()})),console.log("Hello, valle!"),function(){const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcFkwm5jayySDY2AsWv2MWvsXZU3Excwo&libraries=places&callback=initAutocomplete&loading=async",e.async=!0,e.defer=!0,window.initAutocomplete=function(){const e=document.querySelectorAll(".gpa-autocomplete"),t={componentRestrictions:{country:"se"}};e.forEach((e=>{new google.maps.places.Autocomplete(e,t)}))},document.head.appendChild(e)}(),document.addEventListener("DOMContentLoaded",(()=>{const e={input:document.getElementById("housing_size"),movingDate:document.getElementById("moving_date"),flexibleMovingDate:document.getElementById("flexible_moving_date"),cleaningBaseCosts:document.querySelectorAll(".house_cleaning_base_cost"),totalResults:document.querySelectorAll(".total_result"),resultMovingDates:document.querySelectorAll(".result_moving_date"),resultFlexibleMovingDates:document.querySelectorAll(".result_flexible_moving_date"),resultHousingSizes:document.querySelectorAll(".result_housing_size"),otherCostsElements:document.querySelectorAll(".other_costs"),resultExtras:document.querySelectorAll(".result_extras"),checkboxes:document.querySelectorAll('.form12_checkbox_field input[type="checkbox"]')},t=[{min:0,max:29,price:1549},{min:30,max:39,price:1599},{min:40,max:49,price:1649},{min:50,max:59,price:1799},{min:60,max:69,price:1999},{min:70,max:79,price:2199},{min:80,max:89,price:2399},{min:90,max:99,price:2599},{min:100,max:114,price:2799},{min:115,max:124,price:2999},{min:125,max:136,price:3199},{min:137,max:148,price:3399},{min:149,max:159,price:3599},{min:160,max:169,price:3849},{min:170,max:179,price:3949},{min:180,max:1/0,price:23}],n={normal_balcony:250,glass_balcony:450,terrace:750,fireplace:200,freeze_defrost:195,basement_attic:250,oven_plates:300,garage:300,water_lock_washingmachine:200,water_lock_sink:200},o={blind_wash:250,joint_treatment:300,deep_cleaning:300},i=new Set;function l(e){let t=0;return i.forEach((n=>{e[n]&&(t+=e[n])})),t}function a(e,t){e.forEach((e=>{e.textContent=t}))}function s(){const i=l(n),s=l(o);a(e.resultExtras,i||"-"),a(e.otherCostsElements,s||"-");let c=parseFloat(e.input.value);isNaN(c)&&(c=0,e.input.value=0),"0"===e.input.value&&(e.input.value="");const r=function(e){if(e>=180)return t.find((e=>180===e.min)).price*(e-180)+t[t.length-2].price;{const n=t.find((t=>e>=t.min&&e<=t.max));return n?n.price:"Kontakta oss"}}(c);a(e.cleaningBaseCosts,r);const u=s?`${r+i} kr + ${s} kr/h`:`${r+i} kr`;a(e.totalResults,u),a(e.resultHousingSizes,e.input.value||"-")}function c(){a(e.resultFlexibleMovingDates,e.flexibleMovingDate.value||"-")}e.checkboxes.forEach((e=>{e.addEventListener("change",(()=>{e.checked?i.add(e.parentElement.id):i.delete(e.parentElement.id),s()}))})),e.input.addEventListener("input",s),e.flexibleMovingDate.addEventListener("change",c),$(e.movingDate).datepicker({autoHide:!0}).on("pick.datepicker",(function(t){!function(t){if(t instanceof Date&&!isNaN(t)){const n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;a(e.resultMovingDates,n)}else a(e.resultMovingDates,"-"),console.error("Invalid date:",t)}(t.date)})),e.movingDate.addEventListener("keydown",(function(e){e.preventDefault()})),function(){a(e.resultMovingDates,"-"),a(e.resultFlexibleMovingDates,"-"),a(e.resultHousingSizes,"-"),a(e.resultExtras,"-"),a(e.otherCostsElements,"-");const t=localStorage.getItem("selected-date");t?(e.movingDate.value=t,a(e.resultMovingDates,t)):(e.movingDate.value="",a(e.resultMovingDates,"-"))}(),s(),c()}));